services:
  _defaults:
    autowire: true
    autoconfigure: true
  _instanceof:
      Slcorp\FileBundle\UI\Http\Controller\UploaderControllerInterface:
          tags: [ 'slcorp.file.uploader_controller' ]

  Slcorp\FileBundle\:
    resource: '../../*'
    exclude: '../../{Resources,Tests,SlcorpFileBundle.php,Application/EventListener/ExampleFileUploadListener.php}'

  Slcorp\FileBundle\Application\Form\Type\UniversalFileType:
      tags:
          - { name: form.type }

    # Twig расширение для работы с файлами
  Slcorp\FileBundle\UI\Twig\FileUploadExtension:
      tags:
          - { name: twig.extension }

    #  Slcorp\FileBundle\Domain\Entity\FileRepositoryInterface:
    #    class: Slcorp\FileBundle\Infrastructure\Persistence\Repository\FileRepository

    # Контроллеры для загрузки файлов
  Slcorp\FileBundle\UI\Http\Controller\FineUploaderController:
    tags: [ 'slcorp.file.uploader_controller' ]

  Slcorp\FileBundle\UI\Http\Controller\DropzoneController:
      tags: [ 'slcorp.file.uploader_controller' ]

  Slcorp\FileBundle\UI\Http\Controller\JQueryFileUploadController:
    tags: [ 'slcorp.file.uploader_controller' ]

  Slcorp\FileBundle\UI\Http\Controller\PluploadController:
    tags: [ 'slcorp.file.uploader_controller' ]

  Slcorp\FileBundle\UI\Http\Controller\UploadifyController:
    tags: [ 'slcorp.file.uploader_controller' ]

  Slcorp\FileBundle\UI\Http\Controller\BluimpController:
    tags: [ 'slcorp.file.uploader_controller' ]

    # Фабрика контроллеров
  Slcorp\FileBundle\UI\Http\Controller\ControllerFactory:
      arguments:
          $controllers: !tagged_iterator slcorp.file.uploader_controller

